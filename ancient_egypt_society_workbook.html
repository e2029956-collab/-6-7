<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û–±—â–µ—Å—Ç–≤–æ –î—Ä–µ–≤–Ω–µ–≥–æ –ï–≥–∏–ø—Ç–∞ - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤–æ—Ä–∫–±—É–∫</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #ffd89b 0%, #e4a853 50%, #d4af37 100%);
            min-height: 100vh;
            color: #2c1810;
            touch-action: manipulation;
        }

        .app-container {
            max-width: 100%;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: linear-gradient(45deg, #8b4513, #cd853f);
            color: white;
            padding: 20px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .header h1 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .progress-container {
            background: rgba(255,255,255,0.2);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-bar {
            background: #ffd700;
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
        }

        .tab-navigation {
            display: flex;
            background: #f8f8f8;
            border-bottom: 2px solid #d4af37;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .tab-btn {
            flex: 1;
            min-width: 120px;
            padding: 15px 10px;
            background: none;
            border: none;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            border-bottom: 3px solid transparent;
        }

        .tab-btn.active {
            background: white;
            border-bottom-color: #d4af37;
            color: #8b4513;
            font-weight: bold;
        }

        .tab-content {
            flex: 1;
            padding: 20px;
            display: none;
            overflow-y: auto;
        }

        .tab-content.active {
            display: block;
        }

        .section-title {
            font-size: 1.4rem;
            color: #8b4513;
            margin-bottom: 20px;
            text-align: center;
        }

        /* –§–ª—ç—à-–∫–∞—Ä—Ç—ã */
        .flashcards-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            max-width: 400px;
            margin: 0 auto;
        }

        .flashcard {
            perspective: 1000px;
            height: 200px;
            cursor: pointer;
        }

        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }

        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            padding: 20px;
        }

        .flashcard-front {
            background: linear-gradient(135deg, #d4af37, #ffd700);
            color: #2c1810;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .flashcard-back {
            background: linear-gradient(135deg, #8b4513, #cd853f);
            color: white;
            transform: rotateY(180deg);
            font-size: 1rem;
            line-height: 1.4;
        }

        /* Drag & Drop –∏–≥—Ä–∞ */
        .matching-game {
            margin: 20px 0;
        }

        .terms-container, .definitions-container {
            margin: 15px 0;
        }

        .game-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #8b4513;
        }

        .draggable-item {
            background: #f9f5e7;
            padding: 15px;
            margin: 8px 0;
            border-radius: 10px;
            border: 2px solid #d4af37;
            cursor: grab;
            transition: all 0.3s ease;
            user-select: none;
            touch-action: none;
        }

        .draggable-item:active {
            cursor: grabbing;
        }

        .draggable-item.dragging {
            opacity: 0.5;
            transform: scale(1.05);
        }

        .drop-zone {
            background: #e8f5e8;
            border: 2px dashed #28a745;
            padding: 15px;
            margin: 8px 0;
            border-radius: 10px;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .drop-zone.drag-over {
            background: #d4edda;
            transform: scale(1.02);
        }

        .drop-zone.filled {
            background: #d1ecf1;
            border-color: #17a2b8;
        }

        .drop-zone.correct {
            background: #d4edda;
            border-color: #28a745;
        }

        .drop-zone.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
        }

        /* –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–∏—Ä–∞–º–∏–¥–∞ */
        .pyramid-interactive {
            margin: 20px 0;
            text-align: center;
        }

        .pyramid-level {
            background: linear-gradient(45deg, #d4af37, #ffd700);
            margin: 5px auto;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid #8b4513;
            font-weight: bold;
            position: relative;
        }

        .pyramid-level:nth-child(1) { width: 80%; }
        .pyramid-level:nth-child(2) { width: 85%; }
        .pyramid-level:nth-child(3) { width: 90%; }
        .pyramid-level:nth-child(4) { width: 95%; }
        .pyramid-level:nth-child(5) { width: 100%; }

        .pyramid-level:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .level-info {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            border-left: 4px solid #d4af37;
            display: none;
        }

        .level-info.active {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –¥–æ–º–∞ */
        .houses-container {
            display: grid;
            gap: 20px;
        }

        .house-card {
            background: #f9f5e7;
            border-radius: 15px;
            padding: 20px;
            border: 2px solid #d4af37;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .house-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .house-card.active {
            border-color: #28a745;
            background: #e8f5e8;
        }

        .house-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: #8b4513;
            margin-bottom: 10px;
        }

        .house-details {
            display: none;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #d4af37;
        }

        .house-details.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .house-feature {
            background: white;
            padding: 10px;
            margin: 8px 0;
            border-radius: 8px;
            border-left: 3px solid #d4af37;
        }

        /* –ö–≤–∏–∑—ã */
        .quiz-container {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .question {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: #2c1810;
        }

        .quiz-option {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid #d4af37;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            background: #f5f0d8;
            transform: translateX(5px);
        }

        .quiz-option.correct {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
        }

        .quiz-option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
        }

        .quiz-option.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            background: linear-gradient(45deg, #8b4513, #cd853f);
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            margin: 5px;
            width: 100%;
            max-width: 200px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        /* –†–µ–∑—É–ª—å—Ç–∞—Ç—ã */
        .result-container {
            background: #e8f5e8;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
            border: 2px solid #28a745;
        }

        .score-display {
            font-size: 2rem;
            font-weight: bold;
            color: #28a745;
            margin: 10px 0;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (min-width: 768px) {
            .app-container {
                max-width: 800px;
                margin: 20px auto;
                border-radius: 20px;
                overflow: hidden;
                box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            }

            .flashcards-container {
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            }

            .houses-container {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }

            .tab-btn {
                font-size: 1rem;
            }

            .btn {
                width: auto;
            }
        }

        .hidden {
            display: none !important;
        }

        .success-animation {
            animation: bounce 0.6s ease;
        }

        @keyframes bounce {
            0%, 20%, 60%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            80% { transform: translateY(-5px); }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div class="header">
            <h1>üèõÔ∏è –û–±—â–µ—Å—Ç–≤–æ –î—Ä–µ–≤–Ω–µ–≥–æ –ï–≥–∏–ø—Ç–∞</h1>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
        </div>

        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≤–∫–ª–∞–¥–∫–∞–º -->
        <nav class="tab-navigation">
            <button class="tab-btn active" onclick="switchTab('flashcards')">üìö –ò–∑—É—á–µ–Ω–∏–µ</button>
            <button class="tab-btn" onclick="switchTab('pyramid')">üî∫ –ü–∏—Ä–∞–º–∏–¥–∞</button>
            <button class="tab-btn" onclick="switchTab('matching')">üéØ –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ</button>
            <button class="tab-btn" onclick="switchTab('houses')">üè† –ë—ã—Ç</button>
            <button class="tab-btn" onclick="switchTab('quiz')">‚ùì –¢–µ—Å—Ç</button>
        </nav>

        <!-- –í–∫–ª–∞–¥–∫–∞: –§–ª—ç—à-–∫–∞—Ä—Ç—ã -->
        <div class="tab-content active" id="flashcards">
            <h2 class="section-title">–ò–∑—É—á–∞–µ–º —Ç–µ—Ä–º–∏–Ω—ã</h2>
            <p style="text-align: center; margin-bottom: 20px;">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</p>
            
            <div class="flashcards-container">
                <div class="flashcard" onclick="flipCard(this)">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">–§–ê–†–ê–û–ù</div>
                        <div class="flashcard-back">–í–µ—Ä—Ö–æ–≤–Ω—ã–π –ø—Ä–∞–≤–∏—Ç–µ–ª—å –î—Ä–µ–≤–Ω–µ–≥–æ –ï–≥–∏–ø—Ç–∞, –∫–æ—Ç–æ—Ä–æ–≥–æ —Å—á–∏—Ç–∞–ª–∏ –∂–∏–≤—ã–º –±–æ–≥–æ–º. –û–±–ª–∞–¥–∞–ª –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –≤–ª–∞—Å—Ç—å—é.</div>
                    </div>
                </div>

                <div class="flashcard" onclick="flipCard(this)">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">–î–ï–°–ü–û–¢–ò–Ø</div>
                        <div class="flashcard-back">–§–æ—Ä–º–∞ –ø—Ä–∞–≤–ª–µ–Ω–∏—è, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –≤–ª–∞—Å—Ç—å —Ü–∞—Ä—è –Ω–∏—á–µ–º –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞. –§–∞—Ä–∞–æ–Ω –º–æ–≥ –¥–µ–ª–∞—Ç—å –≤—Å—ë, —á—Ç–æ —Ö–æ—Ç–µ–ª.</div>
                    </div>
                </div>

                <div class="flashcard" onclick="flipCard(this)">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">–ñ–†–ï–¶–´</div>
                        <div class="flashcard-back">–°–ª—É–∂–∏—Ç–µ–ª–∏ –±–æ–≥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≤–æ–¥–∏–ª–∏ –æ–±—Ä—è–¥—ã –∏ –æ–±–ª–∞–¥–∞–ª–∏ –∑–Ω–∞–Ω–∏—è–º–∏ –∞—Å—Ç—Ä–æ–Ω–æ–º–∏–∏. –°–æ—Å—Ç–∞–≤–ª—è–ª–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä–∏.</div>
                    </div>
                </div>

                <div class="flashcard" onclick="flipCard(this)">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">–ù–û–ú–ê–†–•–ò</div>
                        <div class="flashcard-back">–ü—Ä–∞–≤–∏—Ç–µ–ª–∏ –Ω–æ–º–æ–≤ (–æ–±–ª–∞—Å—Ç–µ–π), –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–µ–¥–∏–ª–∏ –∑–∞ –ø–æ—Ä—è–¥–∫–æ–º –∏ —Å–±–æ—Ä–æ–º –Ω–∞–ª–æ–≥–æ–≤ –≤ —Å–≤–æ–∏—Ö —Ä–µ–≥–∏–æ–Ω–∞—Ö.</div>
                    </div>
                </div>

                <div class="flashcard" onclick="flipCard(this)">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">–ü–ò–°–¶–´</div>
                        <div class="flashcard-back">–û–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–µ —á–∏–Ω–æ–≤–Ω–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —É–º–µ–ª–∏ —á–∏—Ç–∞—Ç—å –∏ –ø–∏—Å–∞—Ç—å. –í–µ–ª–∏ —É—á—ë—Ç –≤—Å–µ–º—É –≤ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ.</div>
                    </div>
                </div>

                <div class="flashcard" onclick="flipCard(this)">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">–í–ï–õ–¨–ú–û–ñ–ò</div>
                        <div class="flashcard-back">–ó–Ω–∞—Ç–Ω—ã–µ –∏ –±–æ–≥–∞—Ç—ã–µ –ª—é–¥–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤–ª–∞–¥–µ–ª–∏ –∑–µ–º–ª—è–º–∏ –∏ —Å–ª—É–∂–∏–ª–∏ —Ñ–∞—Ä–∞–æ–Ω—É. –ñ–∏–ª–∏ –≤ —Ä–æ—Å–∫–æ—à–Ω—ã—Ö –¥–æ–º–∞—Ö.</div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn" onclick="resetFlashcards()">üîÑ –ü–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç—å –≤—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏</button>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –ü–∏—Ä–∞–º–∏–¥–∞ –æ–±—â–µ—Å—Ç–≤–∞ -->
        <div class="tab-content" id="pyramid">
            <h2 class="section-title">–°–æ—Ü–∏–∞–ª—å–Ω–∞—è –ø–∏—Ä–∞–º–∏–¥–∞</h2>
            <p style="text-align: center; margin-bottom: 20px;">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</p>
            
            <div class="pyramid-interactive">
                <div class="pyramid-level" onclick="showLevelInfo('pharaoh')">üëë –§–ê–†–ê–û–ù</div>
                <div class="pyramid-level" onclick="showLevelInfo('officials')">‚öñÔ∏è –ñ–†–ï–¶–´ –ò –ß–ò–ù–û–í–ù–ò–ö–ò</div>
                <div class="pyramid-level" onclick="showLevelInfo('nobles')">üìú –í–ï–õ–¨–ú–û–ñ–ò –ò –ü–ò–°–¶–´</div>
                <div class="pyramid-level" onclick="showLevelInfo('workers')">üåæ –ó–ï–ú–õ–ï–î–ï–õ–¨–¶–´ –ò –†–ï–ú–ï–°–õ–ï–ù–ù–ò–ö–ò</div>
                <div class="pyramid-level" onclick="showLevelInfo('slaves')">‚õìÔ∏è –†–ê–ë–´</div>

                <div class="level-info" id="info-pharaoh">
                    <strong>–§–∞—Ä–∞–æ–Ω - –±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—Ä–∞–≤–∏—Ç–µ–ª—å</strong><br>
                    ‚Ä¢ –°—á–∏—Ç–∞–ª—Å—è –∂–∏–≤—ã–º –±–æ–≥–æ–º –Ω–∞ –∑–µ–º–ª–µ<br>
                    ‚Ä¢ –í—Å—è –∑–µ–º–ª—è –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞–ª–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤—É<br>
                    ‚Ä¢ –°–∏–º–≤–æ–ª—ã –≤–ª–∞—Å—Ç–∏: –∫–æ—Ä–æ–Ω–∞, —Å–∫–∏–ø–µ—Ç—Ä, –ø–ª–µ—Ç—å<br>
                    ‚Ä¢ –ñ–∏–ª –≤ —Ä–æ—Å–∫–æ—à–Ω–æ–º –¥–≤–æ—Ä—Ü–µ
                </div>

                <div class="level-info" id="info-officials">
                    <strong>–ñ—Ä–µ—Ü—ã –∏ —á–∏–Ω–æ–≤–Ω–∏–∫–∏</strong><br>
                    ‚Ä¢ –ñ—Ä–µ—Ü—ã —Å–ª—É–∂–∏–ª–∏ –±–æ–≥–∞–º –∏ –∑–Ω–∞–ª–∏ –∞—Å—Ç—Ä–æ–Ω–æ–º–∏—é<br>
                    ‚Ä¢ –ß–∏–Ω–æ–≤–Ω–∏–∫–∏ –ø–æ–º–æ–≥–∞–ª–∏ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å—Ç—Ä–∞–Ω–æ–π<br>
                    ‚Ä¢ –°–ª–µ–¥–∏–ª–∏ –∑–∞ –ø–æ—Ä—è–¥–∫–æ–º –∏ —Å–±–æ—Ä–æ–º –Ω–∞–ª–æ–≥–æ–≤<br>
                    ‚Ä¢ –ü–æ–ª—É—á–∞–ª–∏ –∑–µ–º–ª–∏ –æ—Ç —Ñ–∞—Ä–∞–æ–Ω–∞
                </div>

                <div class="level-info" id="info-nobles">
                    <strong>–í–µ–ª—å–º–æ–∂–∏ –∏ –ø–∏—Å—Ü—ã</strong><br>
                    ‚Ä¢ –í–µ–ª—å–º–æ–∂–∏ –≤–ª–∞–¥–µ–ª–∏ –±–æ–ª—å—à–∏–º–∏ –∑–µ–º–ª—è–º–∏<br>
                    ‚Ä¢ –ü–∏—Å—Ü—ã –≤–µ–ª–∏ –≤—Å–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏<br>
                    ‚Ä¢ –ñ–∏–ª–∏ –≤ –±–æ–ª—å—à–∏—Ö –¥–æ–º–∞—Ö —Å —Å–∞–¥–∞–º–∏<br>
                    ‚Ä¢ –ü–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –æ—Å–æ–±—ã–º —É–≤–∞–∂–µ–Ω–∏–µ–º
                </div>

                <div class="level-info" id="info-workers">
                    <strong>–û—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞—Å–µ–ª–µ–Ω–∏–µ</strong><br>
                    ‚Ä¢ –°–æ—Å—Ç–∞–≤–ª—è–ª–∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –Ω–∞—Å–µ–ª–µ–Ω–∏—è<br>
                    ‚Ä¢ –ü–ª–∞—Ç–∏–ª–∏ –Ω–∞–ª–æ–≥–∏ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤—É<br>
                    ‚Ä¢ –ù–µ—Å–ª–∏ —Ç—Ä—É–¥–æ–≤—ã–µ –ø–æ–≤–∏–Ω–Ω–æ—Å—Ç–∏<br>
                    ‚Ä¢ –ñ–∏–ª–∏ –≤ –ø—Ä–æ—Å—Ç—ã—Ö –¥–æ–º–∞—Ö –∏–∑ –≥–ª–∏–Ω—ã
                </div>

                <div class="level-info" id="info-slaves">
                    <strong>–†–∞–±—ã - "–∂–∏–≤—ã–µ —É–±–∏—Ç—ã–µ"</strong><br>
                    ‚Ä¢ –í –æ—Å–Ω–æ–≤–Ω–æ–º –≤–æ–µ–Ω–Ω–æ–ø–ª–µ–Ω–Ω—ã–µ<br>
                    ‚Ä¢ –í—ã–ø–æ–ª–Ω—è–ª–∏ —Å–∞–º—É—é —Ç—è–∂—ë–ª—É—é —Ä–∞–±–æ—Ç—É<br>
                    ‚Ä¢ –°—á–∏—Ç–∞–ª–∏—Å—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é —Ö–æ–∑—è–µ–≤<br>
                    ‚Ä¢ –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –µ–≥–∏–ø—Ç—è–Ω–µ –ø—Ä–æ–¥–∞–≤–∞–ª–∏—Å—å –∑–∞ –¥–æ–ª–≥–∏
                </div>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –ò–≥—Ä–∞ –Ω–∞ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ -->
        <div class="tab-content" id="matching">
            <h2 class="section-title">–°–æ–ø–æ—Å—Ç–∞–≤—å –ø–æ–Ω—è—Ç–∏—è –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è</h2>
            <p style="text-align: center; margin-bottom: 20px;">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω—ã –∫ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è–º</p>
            
            <div class="matching-game">
                <div class="terms-container">
                    <div class="game-title">–¢–µ—Ä–º–∏–Ω—ã:</div>
                    <div class="draggable-item" draggable="true" data-term="hierarchy">–ò–µ—Ä–∞—Ä—Ö–∏—è</div>
                    <div class="draggable-item" draggable="true" data-term="treasury">–ö–∞–∑–Ω–∞</div>
                    <div class="draggable-item" draggable="true" data-term="taxes">–ù–∞–ª–æ–≥–∏</div>
                    <div class="draggable-item" draggable="true" data-term="corvee">–ü–æ–≤–∏–Ω–Ω–æ—Å—Ç–∏</div>
                </div>

                <div class="definitions-container">
                    <div class="game-title">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:</div>
                    <div class="drop-zone" data-answer="hierarchy">–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Å–ª–æ—ë–≤ –æ–±—â–µ—Å—Ç–≤–∞ –æ—Ç –Ω–∏–∑—à–∏—Ö –∫ –≤—ã—Å—à–∏–º</div>
                    <div class="drop-zone" data-answer="treasury">–ú–µ—Å—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –±–æ–≥–∞—Ç—Å—Ç–≤</div>
                    <div class="drop-zone" data-answer="taxes">–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ –≤ –ø–æ–ª—å–∑—É –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞</div>
                    <div class="drop-zone" data-answer="corvee">–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –¥–ª—è –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞</div>
                </div>

                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn" onclick="resetMatching()">üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
                    <button class="btn" onclick="checkMatching()">‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                </div>

                <div id="matchingResult" class="hidden result-container">
                    <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç:</h3>
                    <div class="score-display" id="matchingScore">0/4</div>
                </div>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –ë—ã—Ç –µ–≥–∏–ø—Ç—è–Ω -->
        <div class="tab-content" id="houses">
            <h2 class="section-title">–ë—ã—Ç —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å–ª–æ–≤–∏–π</h2>
            <p style="text-align: center; margin-bottom: 20px;">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –æ –∂–∏–∑–Ω–∏ —Ä–∞–∑–Ω—ã—Ö —Å–ª–æ—ë–≤ –æ–±—â–µ—Å—Ç–≤–∞</p>
            
            <div class="houses-container">
                <div class="house-card" onclick="toggleHouse(this, 'pharaoh')">
                    <div class="house-title">üèõÔ∏è –î–≤–æ—Ä–µ—Ü —Ñ–∞—Ä–∞–æ–Ω–∞</div>
                    <p>–†–æ—Å–∫–æ—à–Ω–∞—è —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏—è –±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø—Ä–∞–≤–∏—Ç–µ–ª—è</p>
                    <div class="house-details">
                        <div class="house-feature">üëë –¢—Ä–æ–Ω–Ω—ã–π –∑–∞–ª —Å —Å–∏–º–≤–æ–ª–∞–º–∏ –≤–ª–∞—Å—Ç–∏</div>
                        <div class="house-feature">üõèÔ∏è –†–æ—Å–∫–æ—à–Ω—ã–µ –ø–æ–∫–æ–∏</div>
                        <div class="house-feature">üå∫ –°–∞–¥—ã —Å —ç–∫–∑–æ—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ä–∞—Å—Ç–µ–Ω–∏—è–º–∏</div>
                        <div class="house-feature">üë• –°–æ—Ç–Ω–∏ —Å–ª—É–≥ –∏ –æ—Ö—Ä–∞–Ω–Ω–∏–∫–æ–≤</div>
                        <div class="house-feature">üçΩÔ∏è –ò–∑—ã—Å–∫–∞–Ω–Ω—ã–µ –ø–∏—Ä—ã</div>
                    </div>
                </div>

                <div class="house-card" onclick="toggleHouse(this, 'noble')">
                    <div class="house-title">üèòÔ∏è –î–æ–º –≤–µ–ª—å–º–æ–∂–∏</div>
                    <p>–ë–æ–ª—å—à–æ–π –¥–æ–º –∑–Ω–∞—Ç–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞</p>
                    <div class="house-details">
                        <div class="house-feature">üè° –ë–æ–ª—å—à–æ–π –¥–æ–º —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–æ–º–Ω–∞—Ç–∞–º–∏</div>
                        <div class="house-feature">üå≥ –°–∞–¥ —Å —Ñ—Ä—É–∫—Ç–æ–≤—ã–º–∏ –¥–µ—Ä–µ–≤—å—è–º–∏</div>
                        <div class="house-feature">üë®‚Äçüç≥ –ü–æ–≤–∞—Ä–∞ –∏ —Å–ª—É–≥–∏</div>
                        <div class="house-feature">üí∫ –ù–æ—Å–∏–ª–∫–∏ –¥–ª—è –ø–µ—Ä–µ–¥–≤–∏–∂–µ–Ω–∏—è</div>
                        <div class="house-feature">üé≠ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è: –æ—Ö–æ—Ç–∞, –º—É–∑—ã–∫–∞</div>
                    </div>
                </div>

                <div class="house-card" onclick="toggleHouse(this, 'craftsman')">
                    <div class="house-title">üî® –î–æ–º —Ä–µ–º–µ—Å–ª–µ–Ω–Ω–∏–∫–∞</div>
                    <p>–ñ–∏–ª–∏—â–µ –º–∞—Å—Ç–µ—Ä–∞ —Å–≤–æ–µ–≥–æ –¥–µ–ª–∞</p>
                    <div class="house-details">
                        <div class="house-feature">üõ†Ô∏è –ú–∞—Å—Ç–µ—Ä—Å–∫–∞—è —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏</div>
                        <div class="house-feature">üè† –ü—Ä–æ—Å—Ç—ã–µ –∫–æ–º–Ω–∞—Ç—ã –¥–ª—è —Å–µ–º—å–∏</div>
                        <div class="house-feature">üåæ –ù–µ–±–æ–ª—å—à–æ–π –¥–≤–æ—Ä</div>
                        <div class="house-feature">üí∞ –ò–∑–¥–µ–ª–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏</div>
                        <div class="house-feature">üìù –£—á—ë—Ç –Ω–∞–ª–æ–≥–æ–≤ –ø–∏—Å—Ü–∞–º–∏</div>
                    </div>
                </div>

                <div class="house-card" onclick="toggleHouse(this, 'farmer')">
                    <div class="house-title">üåæ –î–æ–º –∑–µ–º–ª–µ–¥–µ–ª—å—Ü–∞</div>
                    <p>–ü—Ä–æ—Å—Ç–æ–µ –∂–∏–ª–∏—â–µ –∫—Ä–µ—Å—Ç—å—è–Ω–∏–Ω–∞</p>
                    <div class="house-details">
                        <div class="house-feature">üß± –î–æ–º –∏–∑ –≥–ª–∏–Ω—è–Ω—ã—Ö –∫–∏—Ä–ø–∏—á–µ–π</div>
                        <div class="house-feature">üçá –°–∞–¥–∏–∫ —Å –≤–∏–Ω–æ–≥—Ä–∞–¥–æ–º –∏ –∏–Ω–∂–∏—Ä–æ–º</div>
                        <div class="house-feature">üêÑ –î–æ–º–∞—à–Ω–∏–µ –∂–∏–≤–æ—Ç–Ω—ã–µ</div>
                        <div class="house-feature">üçû –Ø—á–º–µ–Ω–Ω—ã–µ –ª–µ–ø—ë—à–∫–∏ - –æ—Å–Ω–æ–≤–Ω–∞—è –µ–¥–∞</div>
                        <div class="house-feature">üé£ –†—ã–±–Ω–∞—è –ª–æ–≤–ª—è –Ω–∞ –ª–æ–¥–∫–µ</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –ò—Ç–æ–≥–æ–≤—ã–π —Ç–µ—Å—Ç -->
        <div class="tab-content" id="quiz">
            <h2 class="section-title">–ü—Ä–æ–≤–µ—Ä–∏–º –∑–Ω–∞–Ω–∏—è!</h2>
            
            <div id="quizContainer">
                <div class="quiz-container">
                    <div class="question" id="currentQuestion">–ö–∞–∫–æ–π –≤–ª–∞—Å—Ç—å—é –æ–±–ª–∞–¥–∞–ª —Ñ–∞—Ä–∞–æ–Ω –≤ –î—Ä–µ–≤–Ω–µ–º –ï–≥–∏–ø—Ç–µ?</div>
                    <div class="quiz-option" onclick="selectAnswer(this, false)">–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –≤–ª–∞—Å—Ç—å—é</div>
                    <div class="quiz-option" onclick="selectAnswer(this, true)">–ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –≤–ª–∞—Å—Ç—å—é (–¥–µ—Å–ø–æ—Ç–∏—è)</div>
                    <div class="quiz-option" onclick="selectAnswer(this, false)">–í–ª–∞—Å—Ç—å—é —Ç–æ–ª—å–∫–æ –≤ –≤–æ–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è</div>
                </div>
            </div>

            <div id="quizResult" class="hidden result-container">
                <h3>üéâ –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à—ë–Ω!</h3>
                <div class="score-display" id="finalScore">0/5</div>
                <p id="scoreComment">–û—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!</p>
                <button class="btn" onclick="restartQuiz()">üîÑ –ü—Ä–æ–π—Ç–∏ –µ—â—ë —Ä–∞–∑</button>
            </div>
        </div>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let currentTab = 'flashcards';
        let progress = 0;
        let quizScore = 0;
        let currentQuestionIndex = 0;
        let matchingScore = 0;

        // –í–æ–ø—Ä–æ—Å—ã –¥–ª—è –∫–≤–∏–∑–∞
        const quizQuestions = [
            {
                question: "–ö–∞–∫–æ–π –≤–ª–∞—Å—Ç—å—é –æ–±–ª–∞–¥–∞–ª —Ñ–∞—Ä–∞–æ–Ω –≤ –î—Ä–µ–≤–Ω–µ–º –ï–≥–∏–ø—Ç–µ?",
                options: ["–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –≤–ª–∞—Å—Ç—å—é", "–ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –≤–ª–∞—Å—Ç—å—é (–¥–µ—Å–ø–æ—Ç–∏—è)", "–í–ª–∞—Å—Ç—å—é —Ç–æ–ª—å–∫–æ –≤ –≤–æ–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è"],
                correct: 1
            },
            {
                question: "–ö—Ç–æ —Å–æ—Å—Ç–∞–≤–ª—è–ª –æ—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞—Å–µ–ª–µ–Ω–∏–µ –î—Ä–µ–≤–Ω–µ–≥–æ –ï–≥–∏–ø—Ç–∞?",
                options: ["–ñ—Ä–µ—Ü—ã –∏ –≤–µ–ª—å–º–æ–∂–∏", "–ó–µ–º–ª–µ–¥–µ–ª—å—Ü—ã –∏ —Ä–µ–º–µ—Å–ª–µ–Ω–Ω–∏–∫–∏", "–†–∞–±—ã –∏ —á–∏–Ω–æ–≤–Ω–∏–∫–∏"],
                correct: 1
            },
            {
                question: "–ö–∞–∫ –Ω–∞–∑—ã–≤–∞–ª–∏ –ø–ª–µ–Ω–Ω—ã—Ö, –æ–±—Ä–∞—â—ë–Ω–Ω—ã—Ö –≤ —Ä–∞–±—Å—Ç–≤–æ?",
                options: ["–°–ª—É–≥–∏ –±–æ–≥–æ–≤", "–ñ–∏–≤—ã–µ —É–±–∏—Ç—ã–µ", "–ù–æ—Å–∏—Ç–µ–ª–∏ –≤–æ–¥—ã"],
                correct: 1
            },
            {
                question: "–ß—Ç–æ –±—ã–ª–æ —Å–∏–º–≤–æ–ª–æ–º –≤–ª–∞—Å—Ç–∏ —Ñ–∞—Ä–∞–æ–Ω–∞ –Ω–∞–¥ –¥–≤—É–º—è —á–∞—Å—Ç—è–º–∏ –ï–≥–∏–ø—Ç–∞?",
                options: ["–î–≤–æ–π–Ω–∞—è –∫–æ—Ä–æ–Ω–∞", "–ó–æ–ª–æ—Ç–æ–π —Å–∫–∏–ø–µ—Ç—Ä", "–°–≤—è—â–µ–Ω–Ω–∞—è –ø–ª–µ—Ç—å"],
                correct: 0
            },
            {
                question: "–ö—Ç–æ –æ–±–ª–∞–¥–∞–ª –∑–Ω–∞–Ω–∏—è–º–∏ –∞—Å—Ç—Ä–æ–Ω–æ–º–∏–∏ –∏ —Å–æ—Å—Ç–∞–≤–ª—è–ª –∫–∞–ª–µ–Ω–¥–∞—Ä–∏?",
                options: ["–ü–∏—Å—Ü—ã", "–ñ—Ä–µ—Ü—ã", "–í–µ–ª—å–º–æ–∂–∏"],
                correct: 1
            }
        ];

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
        function switchTab(tabId) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // –£–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∫–ª–∞–¥–∫—É
            document.getElementById(tabId).classList.add('active');
            event.target.classList.add('active');
            
            currentTab = tabId;
            updateProgress();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        function updateProgress() {
            const tabs = ['flashcards', 'pyramid', 'matching', 'houses', 'quiz'];
            const currentIndex = tabs.indexOf(currentTab);
            progress = Math.min(100, (currentIndex + 1) * 20);
            document.getElementById('progressBar').style.width = progress + '%';
        }

        // –§–ª—ç—à-–∫–∞—Ä—Ç—ã
        function flipCard(card) {
            card.classList.toggle('flipped');
            card.classList.add('success-animation');
            setTimeout(() => card.classList.remove('success-animation'), 600);
        }

        function resetFlashcards() {
            document.querySelectorAll('.flashcard').forEach(card => {
                card.classList.remove('flipped');
            });
        }

        // –ü–∏—Ä–∞–º–∏–¥–∞ –æ–±—â–µ—Å—Ç–≤–∞
        function showLevelInfo(level) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ info –±–ª–æ–∫–∏
            document.querySelectorAll('.level-info').forEach(info => {
                info.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π
            document.getElementById('info-' + level).classList.add('active');
        }

        // Drag & Drop –∏–≥—Ä–∞
        let draggedElement = null;

        document.addEventListener('DOMContentLoaded', function() {
            initDragAndDrop();
        });

        function initDragAndDrop() {
            const draggables = document.querySelectorAll('.draggable-item');
            const dropZones = document.querySelectorAll('.drop-zone');

            draggables.forEach(item => {
                item.addEventListener('dragstart', handleDragStart);
                item.addEventListener('dragend', handleDragEnd);
                
                // Touch events –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
                item.addEventListener('touchstart', handleTouchStart, {passive: false});
                item.addEventListener('touchmove', handleTouchMove, {passive: false});
                item.addEventListener('touchend', handleTouchEnd, {passive: false});
            });

            dropZones.forEach(zone => {
                zone.addEventListener('dragover', handleDragOver);
                zone.addEventListener('drop', handleDrop);
                zone.addEventListener('dragenter', handleDragEnter);
                zone.addEventListener('dragleave', handleDragLeave);
            });
        }

        function handleDragStart(e) {
            draggedElement = this;
            this.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/html', this.outerHTML);
        }

        function handleDragEnd(e) {
            this.classList.remove('dragging');
        }

        function handleDragOver(e) {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'move';
        }

        function handleDragEnter(e) {
            this.classList.add('drag-over');
        }

        function handleDragLeave(e) {
            this.classList.remove('drag-over');
        }

        function handleDrop(e) {
            e.preventDefault();
            this.classList.remove('drag-over');
            
            if (draggedElement) {
                this.appendChild(draggedElement);
                this.classList.add('filled');
                draggedElement = null;
            }
        }

        // Touch —Å–æ–±—ã—Ç–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
        let touchItem = null;
        let touchOffset = {x: 0, y: 0};

        function handleTouchStart(e) {
            touchItem = this;
            this.classList.add('dragging');
            
            const touch = e.touches[0];
            const rect = this.getBoundingClientRect();
            touchOffset.x = touch.clientX - rect.left;
            touchOffset.y = touch.clientY - rect.top;
        }

        function handleTouchMove(e) {
            e.preventDefault();
            if (!touchItem) return;

            const touch = e.touches[0];
            touchItem.style.position = 'fixed';
            touchItem.style.left = (touch.clientX - touchOffset.x) + 'px';
            touchItem.style.top = (touch.clientY - touchOffset.y) + 'px';
            touchItem.style.zIndex = '1000';
        }

        function handleTouchEnd(e) {
            if (!touchItem) return;

            const touch = e.changedTouches[0];
            const elementAtPoint = document.elementFromPoint(touch.clientX, touch.clientY);
            const dropZone = elementAtPoint?.closest('.drop-zone');

            if (dropZone) {
                dropZone.appendChild(touchItem);
                dropZone.classList.add('filled');
            }

            // –°–±—Ä–æ—Å —Å—Ç–∏–ª–µ–π
            touchItem.style.position = '';
            touchItem.style.left = '';
            touchItem.style.top = '';
            touchItem.style.zIndex = '';
            touchItem.classList.remove('dragging');
            touchItem = null;
        }

        function resetMatching() {
            const container = document.querySelector('.terms-container');
            document.querySelectorAll('.draggable-item').forEach(item => {
                container.appendChild(item);
                item.style.position = '';
                item.style.left = '';
                item.style.top = '';
                item.style.zIndex = '';
            });

            document.querySelectorAll('.drop-zone').forEach(zone => {
                zone.classList.remove('filled', 'correct', 'incorrect');
            });

            document.getElementById('matchingResult').classList.add('hidden');
        }

        function checkMatching() {
            let correct = 0;
            const dropZones = document.querySelectorAll('.drop-zone');
            
            dropZones.forEach(zone => {
                const droppedItem = zone.querySelector('.draggable-item');
                if (droppedItem) {
                    const termData = droppedItem.getAttribute('data-term');
                    const expectedAnswer = zone.getAttribute('data-answer');
                    
                    if (termData === expectedAnswer) {
                        zone.classList.add('correct');
                        zone.classList.remove('incorrect');
                        correct++;
                    } else {
                        zone.classList.add('incorrect');
                        zone.classList.remove('correct');
                    }
                }
            });

            document.getElementById('matchingScore').textContent = `${correct}/4`;
            document.getElementById('matchingResult').classList.remove('hidden');
            
            if (correct === 4) {
                document.getElementById('matchingResult').innerHTML += '<p>üéâ –û—Ç–ª–∏—á–Ω–æ! –í—Å–µ —Ç–µ—Ä–º–∏–Ω—ã —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ!</p>';
            }
        }

        // –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –¥–æ–º–∞
        function toggleHouse(element, type) {
            // –ó–∞–∫—Ä—ã—Ç—å –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ
            document.querySelectorAll('.house-card').forEach(card => {
                if (card !== element) {
                    card.classList.remove('active');
                    card.querySelector('.house-details').classList.remove('active');
                }
            });

            // –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π
            element.classList.toggle('active');
            const details = element.querySelector('.house-details');
            details.classList.toggle('active');
        }

        // –ö–≤–∏–∑
        function loadQuestion() {
            if (currentQuestionIndex >= quizQuestions.length) {
                showQuizResult();
                return;
            }

            const question = quizQuestions[currentQuestionIndex];
            const container = document.getElementById('quizContainer');
            
            container.innerHTML = `
                <div class="quiz-container">
                    <div style="text-align: center; margin-bottom: 10px; color: #8b4513;">
                        –í–æ–ø—Ä–æ—Å ${currentQuestionIndex + 1} –∏–∑ ${quizQuestions.length}
                    </div>
                    <div class="question">${question.question}</div>
                    ${question.options.map((option, index) => 
                        `<div class="quiz-option" onclick="selectAnswer(this, ${index === question.correct})">${option}</div>`
                    ).join('')}
                </div>
            `;
        }

        function selectAnswer(element, isCorrect) {
            // –û—Ç–∫–ª—é—á–∏—Ç—å –≤—Å–µ –æ–ø—Ü–∏–∏
            const options = element.parentNode.querySelectorAll('.quiz-option');
            options.forEach(option => {
                option.classList.add('disabled');
                option.onclick = null;
            });

            // –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π/–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
            if (isCorrect) {
                element.classList.add('correct');
                quizScore++;
            } else {
                element.classList.add('incorrect');
                // –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
                const correctIndex = quizQuestions[currentQuestionIndex].correct;
                options[correctIndex].classList.add('correct');
            }

            // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ–ø—Ä–æ—Å—É
            currentQuestionIndex++;
            setTimeout(() => {
                loadQuestion();
            }, 2000);
        }

        function showQuizResult() {
            document.getElementById('quizContainer').classList.add('hidden');
            document.getElementById('quizResult').classList.remove('hidden');
            
            const percentage = Math.round((quizScore / quizQuestions.length) * 100);
            document.getElementById('finalScore').textContent = `${quizScore}/${quizQuestions.length} (${percentage}%)`;
            
            let comment = '';
            if (percentage >= 80) comment = 'üèÜ –û—Ç–ª–∏—á–Ω–æ! –í—ã –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ –∑–Ω–∞–µ—Ç–µ —Ç–µ–º—É!';
            else if (percentage >= 60) comment = 'üëè –•–æ—Ä–æ—à–æ! –ù–æ –º–æ–∂–Ω–æ –µ—â—ë –ø–æ–¥—É—á–∏—Ç—å.';
            else comment = 'üìö –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª.';
            
            document.getElementById('scoreComment').textContent = comment;
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            quizScore = 0;
            document.getElementById('quizContainer').classList.remove('hidden');
            document.getElementById('quizResult').classList.add('hidden');
            loadQuestion();
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        window.onload = function() {
            initDragAndDrop();
            loadQuestion();
            updateProgress();
            console.log("–ú–æ–±–∏–ª—å–Ω—ã–π –≤–æ—Ä–∫–±—É–∫ '–û–±—â–µ—Å—Ç–≤–æ –î—Ä–µ–≤–Ω–µ–≥–æ –ï–≥–∏–ø—Ç–∞' –∑–∞–≥—Ä—É–∂–µ–Ω!");
        };
    </script>
</body>
</html>
